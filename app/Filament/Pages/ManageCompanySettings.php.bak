<?php

namespace App\Filament\Pages;

use App\Settings\CompanySettings;
use Filament\Forms;
use Filament\Pages\SettingsPage;
use Filament\Schemas\Schema;

class ManageCompanySettings extends SettingsPage
{
    protected static ?string $navigationIcon = 'heroicon-o-building-office';

    protected static string $settings = CompanySettings::class;

    protected static UnitEnum|string|null $navigationGroup = 'Settings';

    protected static ?int $navigationSort = 2;

    protected static ?string $title = 'Company Settings';

    protected static ?string $navigationLabel = 'Company';

    public function form(Schema $schema): Schema
    {
        return $schema
            ->components([
                Forms\Components\Section::make('Company Information')
                    ->schema([
                        Forms\Components\Grid::make(2)
                            ->schema([
                                Forms\Components\TextInput::make('company_name')
                                    ->label('Company Name')
                                    ->required()
                                    ->maxLength(255),
                                
                                Forms\Components\TextInput::make('company_registration_number')
                                    ->label('Registration Number')
                                    ->maxLength(100),
                            ]),
                        
                        Forms\Components\Grid::make(2)
                            ->schema([
                                Forms\Components\TextInput::make('company_tax_number')
                                    ->label('Tax Number')
                                    ->maxLength(100),
                                
                                Forms\Components\TextInput::make('company_phone')
                                    ->label('Phone Number')
                                    ->tel()
                                    ->maxLength(20),
                            ]),
                        
                        Forms\Components\Grid::make(2)
                            ->schema([
                                Forms\Components\TextInput::make('company_email')
                                    ->label('Email Address')
                                    ->email()
                                    ->maxLength(255),
                                
                                Forms\Components\TextInput::make('company_website')
                                    ->label('Website')
                                    ->url()
                                    ->maxLength(255),
                            ]),
                        
                        Forms\Components\Textarea::make('company_description')
                            ->label('Company Description')
                            ->rows(3),
                    ]),

                Forms\Components\Section::make('Company Address')
                    ->schema([
                        Forms\Components\TextInput::make('company_address_line_1')
                            ->label('Address Line 1')
                            ->maxLength(255),
                        
                        Forms\Components\TextInput::make('company_address_line_2')
                            ->label('Address Line 2')
                            ->maxLength(255),
                        
                        Forms\Components\Grid::make(3)
                            ->schema([
                                Forms\Components\TextInput::make('company_city')
                                    ->label('City')
                                    ->maxLength(100),
                                
                                Forms\Components\TextInput::make('company_state')
                                    ->label('State/Province')
                                    ->maxLength(100),
                                
                                Forms\Components\TextInput::make('company_postal_code')
                                    ->label('Postal Code')
                                    ->maxLength(20),
                            ]),
                        
                        Forms\Components\Select::make('company_country')
                            ->label('Country')
                            ->options([
                                'MY' => 'Malaysia',
                                'SG' => 'Singapore',
                                'US' => 'United States',
                                'GB' => 'United Kingdom',
                                'AU' => 'Australia',
                                'CA' => 'Canada',
                                'IN' => 'India',
                                'CN' => 'China',
                                'JP' => 'Japan',
                                'TH' => 'Thailand',
                                'ID' => 'Indonesia',
                                'VN' => 'Vietnam',
                                'PH' => 'Philippines',
                            ])
                            ->searchable(),
                    ]),

                Forms\Components\Section::make('Company Branding')
                    ->schema([
                        Forms\Components\FileUpload::make('company_logo')
                            ->label('Company Logo')
                            ->image()
                            ->directory('settings/company')
                            ->visibility('public')
                            ->helperText('Upload your company logo. This will be used in documents and reports.'),
                    ]),
            ]);
    }
}